<div class="jumbotron technolution_header">
    <img class="modpack-logo" src="/images/modpacks/technolution/technolution_logo_light.svg"
         onerror="this.src='/images/modpacks/technolution/technolution_logo_light.png'">
    <h1>Technolution Advanced</h1>
    <h4>You think technology is easy?<br> In Technolution it's definitely not! We use
        technological and gameplay mods that will provide a Minecraft experience like you've never had before!</h4>
</div>
<div class="container">
    <div class="row">
        <div class="col-md-6 col-sm-12 text-left">
            <h3>Modpack Information</h3>
            <p>Technolution Advanced brings you the best in technological mods currently available. Tying together
                mods in ways that have never been done before!</p>
            <p>With all these different mods, there are infitite ways of setting up machines to automate a huge
                number of tasks. By playing this modpack, you will be challenged to create the most complex machine
                setup you have ever built!</p>
        </div>
        <div class="col-md-6 col-sm-12 text-right">
            <h3>Notable Mods</h3>
            <div class="col-xs-2 col-centered moddiv"><a href="http://gregtech.overminddl1.com/" target="_blank">
                <img class="modimg" src="/images/mods/gregtech.png"
                     alt="Gregtech" data-toggle="tooltip"
                     data-placement="bottom" title="Gregtech"></a>
            </div>
            <div class="col-xs-2 col-centered moddiv"><a
                href="http://www.minecraftforum.net/forums/mapping-and-modding/minecraft-mods/1294413-pams-mods-aug-111th-2016-harvestcraft-1-9-4-1-10"
                target="_blank">
                <img class="modimg" src="/images/mods/pamsharvestcraft.png"
                     alt="Pam's Harvestcraft" data-toggle="tooltip"
                     data-placement="bottom" title="Pam's Harvestcraft"></a>
            </div>
            <div class="col-xs-2 col-centered moddiv"><a href="https://mods.curse.com/mc-mods/minecraft/233785-avaritia"
                                                         target="_blank">
                <img class="modimg" src="/images/mods/binniesmods.png"
                     alt="Binnie's Mods" data-toggle="tooltip"
                     data-placement="bottom" title="Binnie's Mods"></a>
            </div>
            <div class="col-xs-2 col-centered moddiv"><a href="http://ae-mod.info/" target="_blank">
                <img class="modimg" src="/images/mods/avaritia.png"
                     alt="Avaritia" data-toggle="tooltip"
                     data-placement="bottom" title="Avaritia"></a>
            </div>
            <div class="col-xs-2 col-centered moddiv"><a href="http://traincraft-mod.com/" target="_blank">
                <img class="modimg" src="/images/mods/traincraft.png"
                     alt="Traincraft" data-toggle="tooltip"
                     data-placement="bottom" title="Traincraft"></a>
            </div>
            <div class="col-xs-2 col-centered moddiv"><a href="http://ocdoc.cil.li/" target="_blank">
                <img class="modimg" src="/images/mods/opencomputers.png"
                     alt="OpenComputers" data-toggle="tooltip"
                     data-placement="bottom" title="OpenComputers"></a>
            </div>
        </div>
    </div>
</div>
<br>
<div class="container">
    <div class="row">
        <div class="col-lg-4 col-md-6 col-sm-6">
            <h3><span class="fa fa-cog fa-spin" aria-hidden="true"></span> Development</h3>
            <p>Technolution Advanced is in full development, expect frequent updates and additions.</p>
        </div>
        <div class="clearfix visible-sm"></div>
        <div class="col-lg-4 col-md-6 col-sm-6">
            <h3><span class="fa fa-thumbs-up" aria-hidden="true"></span> Help us out!</h3>
            <p>Help the modpack become and stay popular by giving it a +1 on the Technic Platform page!</p>
        </div>
        <div class="clearfix visible-sm"></div>
        <div class="col-lg-4 col-md-6 col-sm-6">
            <h3><i class="fa fa-youtube"></i> Youtube</h3>
            <p>You are free to create, publish and monetise Youtube videos playing Technolution Advanced, videos
                submitted to Ionaru might be posted on this page.</p>
        </div>
    </div>
</div>
<br>
<div class="container"><a class="anchor" id="Buttons"
                          style="display: block; position: relative; top: -60px; visibility: hidden;"></a>
    <div class="row">
        <div class="text-center col-sm-4">
            <h3>Technic Install</h3>
            <p>Use the link below to install the modpack.</p>
            <div class="well" style="padding: 5px; margin-bottom: 2px;">
                http://api.technicpack.net/modpack/technolution
            </div>
            <a id="copyTechnolutionLink" class="btn btn-default btn-md"><i class="fa fa-clipboard"></i>
                <span class="btnText">Copy link</span></a>
            <a class="btn btn-primary btn-md" href="http://www.technicpack.net/modpack/technolution.50058"
               target="_blank" role="button"><i class="fa fa-external-link"></i> Technic</a>
            <a data-target="#howto" data-toggle="collapse" class="btn btn-warning btn-md">How To Install?</a>
        </div>
        <script>
            function copyTextToClipboard(text) {
                var textArea = document.createElement("textarea");

                //
                // *** This styling is an extra step which is likely not required. ***
                //
                // Why is it here? To ensure:
                // 1. the element is able to have focus and selection.
                // 2. if element was to flash render it has minimal visual impact.
                // 3. less flakyness with selection and copying which **might** occur if
                //    the textarea element is not visible.
                //
                // The likelihood is the element won't even render, not even a flash,
                // so some of these are just precautions. However in IE the element
                // is visible whilst the popup box asking the user for permission for
                // the web page to copy to the clipboard.
                //

                // Place in top-left corner of screen regardless of scroll position.
                textArea.style.position = 'fixed';
                textArea.style.top = 0;
                textArea.style.left = 0;

                // Ensure it has a small width and height. Setting to 1px / 1em
                // doesn't work as this gives a negative w/h on some browsers.
                textArea.style.width = '2em';
                textArea.style.height = '2em';

                // We don't need padding, reducing the size if it does flash render.
                textArea.style.padding = 0;

                // Clean up any borders.
                textArea.style.border = 'none';
                textArea.style.outline = 'none';
                textArea.style.boxShadow = 'none';

                // Avoid flash of white box if rendered for any reason.
                textArea.style.background = 'transparent';


                textArea.value = text;

                document.body.appendChild(textArea);

                textArea.select();

                var copyButton = $('#copyTechnolutionLink').find('.btnText');

                try {
                    document.execCommand('copy');
                    copyButton.text('Link copied');
                } catch (err) {
                    copyButton.text('Copy failed');
                }

                document.body.removeChild(textArea);
            }

            var copyTechnolutionLink = document.querySelector('#copyTechnolutionLink');
            copyTechnolutionLink.addEventListener('click', function () {
                copyTextToClipboard('http://api.technicpack.net/modpack/technolution');
            });
        </script>
        <div class="text-center col-sm-4">
            <h3>Mods</h3>
            <p>Please click the buttons below to view all the mods in this modpack.</p>
            <p>
            </p>
            <a type="button" data-target="#mods" data-toggle="collapse" class="btn btn-primary btn-md">Show
                Mods</a>
        </div>
        <div class="text-center col-sm-4">
            <h3>Server Files</h3>
            <p>Would you like to start your own Technolution server? Download the latest server files here!</p>
            <a type="button" data-target="#server-downloads" data-toggle="collapse"
               class="btn btn-primary btn-md">Server Download</a>
        </div>
    </div>
</div>
<div id="howto" class="collapse">
    <hr>
    {{> howto}}
    <div class="text-center"><a href="#Buttons" data-target="#howto" data-toggle="collapse"
                                class="btn btn-primary btn-md">Close & Go Back</a></div>
</div>
<div id="mods" class="collapse text-center container mod-list">
    <hr>
    <h3>Mods in Technolution Advanced</h3>
    <div>
        <div id="error_msg"></div>
        <div id="content">
            <br>
            <p>Fetching mod list from API, please wait...</p>
            <img alt="Loading" src="/images/loader.gif"/><br><br>
        </div>
    </div>
    <script type="text/javascript">
        $(document).ready(function () {
            $.get("/technolution/mod_list"
            ).done(function (data) {
                var err = data[0];
                var modList = data[1];
                if (!err) {
                    var content = "";
                    content += '<p>Latest version: ' + modList['modpackVersion'] + ' for Minecraft ' + modList['minecraftVersion'] + '</p>';
                    content += '<table class="table table-hover table-responsive table-condensed sortable" style="width:100%; table-layout: fixed;">';
                    content += '<thead>';
                    content += '<tr>';
                    content += '<th class="text-left">Mod Name</th>';
                    content += '<th class="text-left">Author</th>';
                    content += '<th class="text-left">Version</th>';
                    content += '<th class="text-right">Link</th>';
                    content += '</tr>';
                    content += '</thead>';
                    content += '<tbody>';

                    for (var modID in modList['mods']) {
                        var mod = modList['mods'][modID];
                        content += '<tr>';
                        content += '<td class="text-left">' + mod['pretty_name'] + '</td>';
                        content += '<td class="text-left">' + mod['author'] + '</td>';
                        content += '<td class="text-left">' + mod['version'] + '</td>';
                        var linkType = "Mod Website";
                        if (mod['link'].search("minecraftforum") > -1) {
                            linkType = 'Minecraft Forum';
                        }
                        if (mod['link'].search("curseforge") > -1) {
                            linkType = 'Curse';
                        }
                        if (mod['link'].search("curse.com") > -1) {
                            linkType = 'Curse';
                        }
                        if (mod['link'].search("github") > -1) {
                            linkType = 'GitHub';
                        }
                        if (mod['link'].search("forum.industrial") > -1) {
                            linkType = 'IC2 Forum';
                        }

                        content += '<td class="text-right"><a class="btn btn-primary btn-xs" href="' + mod['link'] + '" target="_blank" rel="external"><i class="fa fa-external-link"></i> ' + linkType + '</a></td>';
                        content += '</tr>';
                    }

                    content += '</tbody>';
                    content += '</table>';
                    $('#content').html(content);
                }
                else {
                    $('#content').html("<p>Unable to get mod list, please wait a few minutes and try again.</p>");
                }

            }).fail(function () {
                $('#content').html("<p>Unable to get mod list, please refresh the page to try again.</p>");
            });
        });
    </script>
    <div class="text-center"><a href="#Buttons" data-target="#mods" data-toggle="collapse"
                                class="btn btn-primary btn-md">Close & Go Back</a></div>
</div>
<div id="server-downloads" class="collapse server-files text-center container">
    <hr>
    <h3>Technolution Advanced server downloads</h3>
    <div>
        <div id="server-files-content">
            <br>
            <p>Fetching server files list from API, please wait...</p>
            <img alt="Loading" src="/images/loader.gif"/><br><br>
        </div>
    </div>
    <script>
        $(document).ready(function () {
            $.get("/technolution/serverfiles"
            ).done(function (data) {
                var err = data[0];
                var filesList = data[1];
                if (!err) {
                    var content = "";
                    content += '<table class="table table-hover" style="width:100%; table-layout: fixed;">';
                    content += '<thead>';
                    content += '<tr>';
                    content += '<th class="text-left">Version</th>';
                    content += '<th class="text-left">Package size</th>';
                    content += '<th class="text-right">Download</th>';
                    content += '</tr>';
                    content += '</thead>';
                    content += '<tbody>';
                    for (var packageID in filesList) {
                        var filePackage = filesList[packageID];
                        if (packageID == 0) {
                            content += '<tr class="success">';
                            content += '<td class="text-left">' + filePackage['version'] + ' - Latest</td>';
                        }
                        else {
                            content += '<tr>';
                            content += '<td class="text-left">' + filePackage['version'] + '</td>';
                        }
                        var packageSize = ((filePackage['size'] / 1024) / 1024).toFixed(2);
                        content += '<td class="text-left">' + packageSize + ' MB</td>';

                        content += '<td class="text-right"><a class="btn btn-primary btn-xs" href="ftp://serverfiles@saturnserver.org/technolution/' + filePackage['name'] + '"><i class="fa fa-download"></i> Download</a></td>';
                        content += '</tr>';
                    }
                    content += '<p class="text-right">Tip: check out these amazing projects to improve your server!<br>';
                    content += '<a target="_blank" rel="external" href="https://tcpr.ca/downloads/mcpc" class="btn btn-default btn-xs"><i class="fa fa-external-link"></i> MCPC+ (up to 1.7.2)</a> ';
                    content += '<a target="_blank" rel="external" href="https://gitlab.prok.pw/KCauldron/KCauldron" class="btn btn-default btn-xs"><i class="fa fa-external-link"></i> KCauldron (1.7.10)</a> ';
                    content += '<a target="_blank" rel="external" href="https://www.spongepowered.org/" class="btn btn-default btn-xs"><i class="fa fa-external-link"></i> Sponge (1.8 and up)</a></p>';
                    content += '</tbody>';
                    content += '</table>';
                    $('#server-files-content').html(content);
                }
                else {
                    $('#server-files-content').html("<p>Unable to fetch the server files, please wait a few minutes and try again.</p>");
                }
            }).fail(function () {
                $('#server-files-content').html("<p>Unable to fetch the server files, please refresh the page to try again.</p>");
            });
        });
    </script>
    <div class="text-center"><a data-target="#server-downloads" data-toggle="collapse"
                                class="btn btn-primary btn-md">Close</a></div>
</div>
<br>
<section class="well"><a class="anchor" id="Media"></a>
    <h2 class="text-center">Modpack Media</h2>
    <div class="container-fluid">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <div class="embed-responsive embed-responsive-16by9">
                        <iframe class="embed-responsive-item"
                                src="https://www.youtube.com/embed/EbFrxZEnc3o"></iframe>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>